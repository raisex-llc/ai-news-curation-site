---
// src/pages/index.astro
import Layout from "../layouts/Layout.astro";
import { ArticleList } from "../components/ArticleList.jsx";  // âœ… React Islandã®èª­ã¿è¾¼ã¿

// ä¸è¦ã«ãªã£ãŸå‡¦ç†ï¼ˆgetCollection ã‚„ filter å‡¦ç†ï¼‰ã¯å‰Šé™¤
const currentPage = 1;
const totalPages = 1;
const sort = "date";

// ã‚¯ã‚¨ãƒªä¿æŒã®ãŸã‚ã ã‘ã«å–å¾—ï¼ˆè¡¨ç¤ºä¸Šã¯ç¶­æŒï¼‰
const q = Astro.url?.searchParams.get("q")?.toLowerCase().trim() ?? "";
const media = Astro.url?.searchParams.get("media")?.toLowerCase().replace(/\s+/g, "").trim() ?? "";
---

<!-- âœ… æ¤œç´¢ä¸­ã‚ªãƒ¼ãƒãƒ¼ãƒ¬ã‚¤ï¼ˆJSXå´ã§ã‚‚åˆ¶å¾¡ã•ã‚Œã‚‹ãŒã€åˆæœŸéè¡¨ç¤ºç”¨ï¼‰-->
<div id="search-overlay"
    class="fixed inset-0 z-50 bg-white/80 backdrop-blur-sm flex items-center justify-center text-xl font-bold text-red-600"
    style="display: none;"
>
  ğŸ” æ¤œç´¢ä¸­ã§ã™â€¦ å°‘ã€…ãŠå¾…ã¡ãã ã•ã„
</div>

<!-- âœ… ãƒ˜ãƒƒãƒ€ãƒ¼ç›´ä¸‹ã«ãƒšãƒ¼ã‚¸ã‚¤ãƒ³ã‚¸ã‚±ãƒ¼ã‚¿è¡¨ç¤º -->
<div class="w-full flex justify-center items-center text-sm text-gray-600 mt-2 sm:mt-0 sm:absolute sm:top-4 sm:right-4 sm:w-auto">
  <div class="text-sm text-gray-700">
    ãƒšãƒ¼ã‚¸ {currentPage} / å…¨{totalPages}ãƒšãƒ¼ã‚¸ â†’ <a href="#" class="text-blue-600 underline">æ¬¡ã®ãƒšãƒ¼ã‚¸</a>
  </div>
</div>

<Layout currentPage={currentPage} totalPages={totalPages} sort={sort} q={q} media={media}>
  <!-- âœ… JSXãƒ™ãƒ¼ã‚¹ã®è¨˜äº‹ä¸€è¦§ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ -->
  <ArticleList client:load />
</Layout>

<!-- âœ… ãƒ•ãƒƒã‚¿ãƒ¼ä¸‹ã«ãƒšãƒ¼ã‚¸TOPãƒªãƒ³ã‚¯ã‚’è¿½åŠ  -->
<div class="mt-4 w-full flex justify-center">
  <a href="#" class="text-blue-600 underline">ãƒšãƒ¼ã‚¸TOPã¸</a>
</div>
