---
// src/pages/index.astro
import Layout from "../layouts/Layout.astro";
import { ArticleList } from "../components/ArticleList.jsx";  // âœ… React Islandã®èª­ã¿è¾¼ã¿

// ä¸è¦ã«ãªã£ãŸå‡¦ç†ï¼ˆgetCollection ã‚„ filter å‡¦ç†ï¼‰ã¯å‰Šé™¤
const currentPage = 1;
const totalPages = 1;
const sort = "date";

// ã‚¯ã‚¨ãƒªä¿æŒã®ãŸã‚ã ã‘ã«å–å¾—ï¼ˆè¡¨ç¤ºä¸Šã¯ç¶­æŒï¼‰
const q = Astro.url?.searchParams.get("q")?.toLowerCase().trim() ?? "";
const media = Astro.url?.searchParams.get("media")?.toLowerCase().replace(/\s+/g, "").trim() ?? "";
---

<!-- âœ… æ¤œç´¢ä¸­ã‚ªãƒ¼ãƒãƒ¼ãƒ¬ã‚¤ï¼ˆJSXå´ã§ã‚‚åˆ¶å¾¡ã•ã‚Œã‚‹ãŒã€åˆæœŸéè¡¨ç¤ºç”¨ï¼‰-->
<div id="search-overlay"
  class="fixed inset-0 z-50 bg-white/80 backdrop-blur-sm flex items-center justify-center text-xl font-bold text-red-600"
  style="display: none;"
>
  ğŸ” æ¤œç´¢ä¸­ã§ã™â€¦ å°‘ã€…ãŠå¾…ã¡ãã ã•ã„
</div>

<!-- âœ… ãƒ˜ãƒƒãƒ€ãƒ¼å³ä¸Šã«ç¾åœ¨ãƒšãƒ¼ã‚¸ï¼ãƒšãƒ¼ã‚¸æ•°ã‚’è¡¨ç¤ºï¼ˆã‚¹ãƒãƒ›ã§ã¯ä¸‹ã«ï¼‰ -->
<div class="w-full flex flex-col lg:flex-row items-center justify-between px-4 mt-2 mb-2">
  <!-- å·¦å´ï¼šã‚µã‚¤ãƒˆã‚¿ã‚¤ãƒˆãƒ«ã¨æ¤œç´¢ãƒ•ã‚©ãƒ¼ãƒ ã¯ Layout.astro å´ã«å«ã¾ã‚Œã¦ã„ã‚‹æƒ³å®š -->

  <!-- å³å´ï¼šãƒšãƒ¼ã‚¸ã‚¤ãƒ³ã‚¸ã‚±ãƒ¼ã‚¿ -->
  <div class="text-base text-red-600 mt-2 lg:mt-0 lg:ml-auto">
    ãƒšãƒ¼ã‚¸ {currentPage} / å…¨{totalPages}ãƒšãƒ¼ã‚¸ â†’
    <span class="underline">æ¬¡ã®ãƒšãƒ¼ã‚¸</span>
  </div>
</div>

<Layout currentPage={currentPage} totalPages={totalPages} sort={sort} q={q} media={media}>
  <!-- âœ… JSXãƒ™ãƒ¼ã‚¹ã®è¨˜äº‹ä¸€è¦§ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ -->
  <ArticleList client:load />
</Layout>
